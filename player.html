<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <style media="screen">
      @import url('https://fonts.googleapis.com/css?family=Open+Sans|Varela+Round');
      .wrapper {
        padding: 0;
        margin: 0;
        overflow: hidden;
      }
      .screen {
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        width: 100%;
        background: red;
        transition: top .3s ease-in-out;
      }
      .screen.active {
        top: 0 !important;
      }
      .screen.yt {
        background: black;
        top: -100%;
      }
      .screen.tw {
        background: purple;
        top: 200%;
      }
      .yt .controller {
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        width: 100%;
        z-index: 2;
      }
      .yt .controller .buttons {
        position: absolute;
        top: 91.5%;
        left: 10%;
        width: 80%;
        height: 1%;
        color: white;
        font-size: 16px;
        font-family: 'Varela Round', sans-serif;
        font-weight: 100;
      }
      .yt .controller .buttons .timer {
        position: absolute;
        left: 0.1%;
        top: 0;
      }
      .yt .controller .buttons .quality {
        position: absolute;
        right: 0.1%;
        top: 0;
      }
      .yt .controller .buttons .mute {
        position: absolute;
        right: 4%;
        top: 0;
      }
      .yt .controller .progressbar {
        position: absolute;
        top: 95%;
        left: 10%;
        width: 80%;
        height: .7%;
        border-radius: 5px;
        background: rgba(89, 98, 117, .2);
        overflow: visible;
      }
      .yt .controller .progressbar .loaded {
        position: absolute;
        top: 0;
        left: 0;
        z-index: 2;
        height: 100%;
        width: 55%;
        border-radius: 5px;
        background: rgba(89, 98, 117, .2);
      }
      .yt .controller .progressbar .progress {
        position: absolute;
        top: 0;
        left: 0;
        z-index: 3;
        height: 100%;
        width: 35%;
        border-radius: 5px;
        background: linear-gradient(270deg, #778beb, #63cdda, #f8a5c2, #e66767);
        background-size: 400% 400%;
        -webkit-animation: gradinet-progess 30s ease infinite;
        -moz-animation: gradinet-progess 30s ease infinite;
        animation: gradinet-progess 30s ease infinite;
      }
      .yt .controller .progressbar .dot {
        position: absolute;
        z-index: 4;
        border-radius: 100%;
        left: calc((100vh * 0.007 * -2) /4 + 35%);
        top: calc((100vh * 0.007 * -2) /4);
        height: calc((100vh * 0.007) * 2);
        width: calc((100vh * 0.007) * 2);
        background: white;
        transition: all .1s ease-in-out;
        cursor: pointer;
      }
      .yt .controller .progressbar .dot:hover {
        left: calc((100vh * 0.007 * -2) /2);
        top: calc((100vh * 0.007 * -2) /2);
        height: calc((100vh * 0.007) * 3);
        width: calc((100vh * 0.007) * 3);
      }
      .yt .tv {
        position: absolute;
        top: 0;
        left: 0;
        z-index: 1;
        width: 100%;
        height: 100%;
        overflow: hidden;
      }
      .yt .tv .screen {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        z-index: 1;
        margin: auto;
        opacity: 0;
        transition: opacity 0.5s;
      }
      .yt .tv .screen.active {
        opacity: 1;
      }
      @-webkit-keyframes gradinet-progess {
         0%{background-position:0% 50%}
         50%{background-position:100% 50%}
         100%{background-position:0% 50%}
      }
      @-moz-keyframes gradinet-progess {
         0%{background-position:0% 50%}
         50%{background-position:100% 50%}
         100%{background-position:0% 50%}
      }
      @keyframes gradinet-progess {
         0%{background-position:0% 50%}
         50%{background-position:100% 50%}
         100%{background-position:0% 50%}
      }
    </style>
  </head>
  <body class="wrapper">
    wrapper
    <div class="screen yt active">
      yt
      <div class="controller">
        <div class="buttons">
          <div class="timer">01:03:34</div>
          <div class="quality">480p</div>
          <div class="mute">mute</div>
        </div>
        <div class="progressbar">
          <div class="dot"></div>
          <div class="loaded"></div>
          <div class="progress"></div>
        </div>
      </div>
      <div class="tv">
        <div class="screen mute" id="tv"></div>
      </div>
    </div>
    <div class="screen tw">
      twitch
    </div>
  </body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>
  var tag = document.createElement('script');
		tag.src = 'https://www.youtube.com/player_api';
var firstScriptTag = document.getElementsByTagName('script')[0];
		firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
var tv,
		playerDefaults = {autoplay: 0, autohide: 1, modestbranding: 0, rel: 0, showinfo: 0, controls: 0, disablekb: 1, enablejsapi: 0, iv_load_policy: 3};
var vid = [
			{'videoId': '2b5QNj-BVhs', 'startSeconds': 515, 'endSeconds': 690, 'suggestedQuality': 'hd720'},
			{'videoId': '9ge5PzHSS0Y', 'startSeconds': 465, 'endSeconds': 657, 'suggestedQuality': 'hd720'},
			{'videoId': 'OWsCt7B-KWs', 'startSeconds': 0, 'endSeconds': 240, 'suggestedQuality': 'hd720'},
			{'videoId': 'qMR-mPlyduE', 'startSeconds': 19, 'endSeconds': 241, 'suggestedQuality': 'hd720'}
		],
		randomVid = Math.floor(Math.random() * vid.length),
    currVid = randomVid;

$('.hi em:last-of-type').html(vid.length);

function onYouTubePlayerAPIReady(){
  tv = new YT.Player('tv', {events: {'onReady': onPlayerReady, 'onStateChange': onPlayerStateChange}, playerVars: playerDefaults});
}

function onPlayerReady(){
  //tv.loadVideoById(vid[currVid]);
  tv.mute();
}

function onPlayerStateChange(e) {
  if (e.data === 1){
    $('#tv').addClass('active');
    $('.hi em:nth-of-type(2)').html(currVid + 1);
  } else if (e.data === 2){
    $('#tv').removeClass('active');
    if(currVid === vid.length - 1){
      currVid = 0;
    } else {
      currVid++;
    }
    tv.loadVideoById(vid[currVid]);
    tv.seekTo(vid[currVid].startSeconds);
  }
}

function vidRescale(){

  var w = $(window).width(),
    h = $(window).height();

  if (w/h > 16/9){
    tv.setSize(w, w/16*9);
    $('.tv .screen').css({'left': '0px'});
  } else {
    tv.setSize(h/9*16, h);
    $('.tv .screen').css({'left': -($('.tv .screen').outerWidth()-w)/2});
  }
}

$(window).on('load resize', function(){
  vidRescale();
});

$('.hi span:first-of-type').on('click', function(){
  $('#tv').toggleClass('mute');
  $('.hi em:first-of-type').toggleClass('hidden');
  if($('#tv').hasClass('mute')){
    tv.mute();
  } else {
    tv.unMute();
  }
});

$('.hi span:last-of-type').on('click', function(){
  $('.hi em:nth-of-type(2)').html('~');
  tv.pauseVideo();
});

  </script>
</html>
